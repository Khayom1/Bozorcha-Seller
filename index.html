<!DOCTYPE html>
<html lang="tg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bozorcha Seller - Professional Core</title>
    <style>
        :root {
            /* Light Theme - High Contrast */
            --bg: #F4F7FA;
            --surface: #FFFFFF;
            --text-primary: #1A1C1E;
            --text-secondary: #6C757D;
            --accent-gradient: linear-gradient(135deg, #FF9F43 0%, #FF6B6B 100%);
            --btn-secondary: #F8F9FA;
            --border: #E9ECEF;
            --shadow: 0 20px 40px rgba(0,0,0,0.05);
        }

        [data-theme="dark"] {
            /* Dark Theme - OLED Optimized */
            --bg: #0A0A0B;
            --surface: #161618;
            --text-primary: #F8F9FA;
            --text-secondary: #ADB5BD;
            --accent-gradient: linear-gradient(135deg, #F093FB 0%, #F5576C 100%); /* Adjusted for Dark */
            --btn-secondary: #212529;
            --border: #2C2E33;
            --shadow: 0 20px 40px rgba(0,0,0,0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, sans-serif;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body {
            background-color: var(--bg);
            color: var(--text-primary);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
        }

        /* --- LOADING STAGE (SPLASH) --- */
        #splash {
            position: fixed;
            inset: 0;
            background: #000;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .splash-svg {
            width: 120px;
            overflow: visible;
        }

        .path-draw {
            fill: none;
            stroke: #FF9F43;
            stroke-width: 2;
            stroke-dasharray: 500;
            stroke-dashoffset: 500;
            animation: draw 2.5s ease-in-out forwards;
        }

        @keyframes draw {
            to { stroke-dashoffset: 0; }
        }

        .fill-animate {
            opacity: 0;
            animation: fadeIn 1s ease forwards 2s;
        }

        @keyframes fadeIn {
            to { opacity: 1; }
        }

        /* --- MAIN UI --- */
        #app {
            width: 100%;
            max-width: 420px;
            padding: 24px;
            opacity: 0;
            transform: translateY(30px);
        }

        #app.active {
            opacity: 1;
            transform: translateY(0);
        }

        .card {
            background: var(--surface);
            border-radius: 32px;
            padding: 40px 32px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            position: relative;
        }

        .nav-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 48px;
        }

        .brand-box {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .brand-logo { width: 42px; height: 42px; }

        .brand-name {
            font-size: 22px;
            font-weight: 800;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .controls { display: flex; gap: 8px; }

        .icon-btn {
            width: 44px;
            height: 44px;
            border-radius: 14px;
            border: 1px solid var(--border);
            background: var(--btn-secondary);
            color: var(--text-primary);
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 18px;
        }

        .icon-btn:hover { transform: scale(1.05); }

        .welcome-section {
            text-align: left;
            margin-bottom: 40px;
        }

        .welcome-title {
            font-size: 32px;
            font-weight: 800;
            line-height: 1.2;
            margin-bottom: 8px;
        }

        .welcome-sub {
            color: var(--text-secondary);
            font-size: 16px;
        }

        .action-group {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .btn {
            width: 100%;
            padding: 20px;
            border-radius: 18px;
            font-size: 16px;
            font-weight: 700;
            border: none;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .btn-primary {
            background: var(--accent-gradient);
            color: white;
            box-shadow: 0 10px 20px rgba(255, 107, 107, 0.2);
        }

        .btn-secondary {
            background: var(--btn-secondary);
            color: var(--text-primary);
            border: 1px solid var(--border);
        }

        .btn:active { transform: scale(0.98); }

        /* Language Badge */
        .lang-badge {
            font-size: 12px;
            font-weight: 800;
            text-transform: uppercase;
        }
    </style>
</head>
<body data-theme="light">

    <div id="splash">
        <svg class="splash-svg" viewBox="0 0 200 200">
            <path class="path-draw" d="M 10 60 C 30 10 140 0 185 60 Z M 25 105 Q 65 140 25 195 L 25 105 Z"/>
            <g class="fill-animate">
                <path d="M 10 60 C 30 10 140 0 185 60 Z" fill="#f4ce9b"/>
                <path d="M 10 60 A 28.5 28.5 0 0 0 68.3 60 Z" fill="#ee8031"/>
                <path d="M 68.3 60 A 28.5 28.5 0 0 0 126.6 60 Z" fill="#ee8031"/>
                <path d="M 126.6 60 A 28.5 28.5 0 0 0 185 60 Z" fill="#ee8031"/>
                <path d="M 25 105 Q 65 140 25 195 L 25 105 Z" fill="#eea54a"/>
                <path d="M 90 120 L 125 120 Q 125 160 160 130 Q 195 160 150 195 Q 80 200 90 120 Z" fill="#e45d27"/>
            </g>
        </svg>
    </div>

    <div id="app">
        <div class="card">
            <header class="nav-header">
                <div class="brand-box">
                    <svg class="brand-logo" viewBox="0 0 200 200">
                        <path d="M 10 60 C 30 10 140 0 185 60 Z" fill="#f4ce9b"/>
                        <path d="M 10 60 A 28.5 28.5 0 0 0 68.3 60 Z" fill="#ee8031"/>
                        <path d="M 68.3 60 A 28.5 28.5 0 0 0 126.6 60 Z" fill="#ee8031"/>
                        <path d="M 126.6 60 A 28.5 28.5 0 0 0 185 60 Z" fill="#ee8031"/>
                        <path d="M 25 105 Q 65 140 25 195 L 25 105 Z" fill="#eea54a"/>
                        <path d="M 90 120 L 125 120 Q 125 160 160 130 Q 195 160 150 195 Q 80 200 90 120 Z" fill="#e45d27"/>
                    </svg>
                    <span class="brand-name">Bozorcha</span>
                </div>
                <div class="controls">
                    <button class="icon-btn" id="langBtn" title="Change Language">
                        <span class="lang-badge" id="langText">TJ</span>
                    </button>
                    <button class="icon-btn" id="themeBtn" title="Toggle Theme">
                        <span id="themeIcon">üåô</span>
                    </button>
                </div>
            </header>

            <section class="welcome-section">
                <h1 class="welcome-title" id="ui-title">–•—É—à –æ–º–∞–¥–µ–¥!</h1>
                <p class="welcome-sub" id="ui-subtitle">–ë–∞—Ä–æ–∏ –æ“ì–æ–∑ –±–∞ —Å–∏—Å—Ç–µ–º–∞ –≤–æ—Ä–∏–¥ —à–∞–≤–µ–¥ —ë —Å–∞–±—Ç–∏ –Ω–æ–º –∫—É–Ω–µ–¥.</p>
            </section>

            <div class="action-group">
                <button class="btn btn-primary" id="ui-reg">–°–∞–±—Ç–∏ –Ω–æ–º</button>
                <button class="btn btn-secondary" id="ui-login">–î–æ—Ö–∏–ª—à–∞–≤”£</button>
            </div>
        </div>
    </div>

    <script>
        // 1. Core State Management
        const state = {
            theme: localStorage.getItem('theme') || 'light',
            lang: localStorage.getItem('lang') || 'tj',
            langs: ['tj', 'ru', 'en'],
            translations: {
                tj: { title: "–•—É—à –æ–º–∞–¥–µ–¥!", sub: "–ë–∞—Ä–æ–∏ –æ“ì–æ–∑ –±–∞ —Å–∏—Å—Ç–µ–º–∞ –≤–æ—Ä–∏–¥ —à–∞–≤–µ–¥.", reg: "–°–∞–±—Ç–∏ –Ω–æ–º", login: "–î–æ—Ö–∏–ª—à–∞–≤”£" },
                ru: { title: "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!", sub: "–í–æ–π–¥–∏—Ç–µ –∏–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –¥–ª—è –Ω–∞—á–∞–ª–∞.", reg: "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è", login: "–í—Ö–æ–¥" },
                en: { title: "Welcome!", sub: "Login or register to get started.", reg: "Register", login: "Login" }
            }
        };

        // 2. Theme Logic
        const applyTheme = () => {
            document.body.setAttribute('data-theme', state.theme);
            document.getElementById('themeIcon').innerText = state.theme === 'light' ? 'üåô' : '‚òÄÔ∏è';
            localStorage.setItem('theme', state.theme);
        };

        // 3. Language Logic
        const applyLang = () => {
            const t = state.translations[state.lang];
            document.getElementById('ui-title').innerText = t.title;
            document.getElementById('ui-subtitle').innerText = t.sub;
            document.getElementById('ui-reg').innerText = t.reg;
            document.getElementById('ui-login').innerText = t.login;
            document.getElementById('langText').innerText = state.lang;
            localStorage.setItem('lang', state.lang);
        };

        // 4. Initial Setup & Animation
        window.addEventListener('load', () => {
            applyTheme();
            applyLang();

            // Splash to UI transition
            setTimeout(() => {
                const splash = document.getElementById('splash');
                const app = document.getElementById('app');
                
                splash.style.opacity = '0';
                setTimeout(() => {
                    splash.style.display = 'none';
                    app.classList.add('active');
                }, 1000);
            }, 3500);
        });

        // 5. Event Listeners (Corrected)
        document.getElementById('themeBtn').addEventListener('click', () => {
            state.theme = state.theme === 'light' ? 'dark' : 'light';
            applyTheme();
        });

        document.getElementById('langBtn').addEventListener('click', () => {
            const currentIndex = state.langs.indexOf(state.lang);
            const nextIndex = (currentIndex + 1) % state.langs.length;
            state.lang = state.langs[nextIndex];
            applyLang();
        });

        // Interaction Feedback
        document.querySelectorAll('.btn').forEach(btn => {
            btn.addEventListener('click', function() {
                console.log(`Action triggered: ${this.id}`);
            });
        });
    </script>
</body>
</html>
